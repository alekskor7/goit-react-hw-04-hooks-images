{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Api/Api.jsx","components/Button/Button.jsx","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","Style","SearchForm","e","preventDefault","result","trim","type","SearchFormButton","SearchFormButtonLabel","size","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","value","ImageGalleryItem","item","onClick","src","webformatURL","alt","tags","ImageGalleryItemImage","Modal","onClose","children","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","isOpen","onRequestClose","overlayClassName","Overlay","ariaHideApp","currentTarget","ImageGallery","items","imageIndex","setImageIndex","showModal","setShowModal","map","index","handleClick","prev","largeImageURL","API_KEY","Button","props","Status","App","images","setImages","page","setPage","isMoreAvailable","setIsMoreAvailable","error","setError","status","setStatus","fetch","then","r","ok","json","Promise","reject","Error","fetchImagesByQuery","results","resultsCount","hits","length","checkAvailability","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","itemsLength","message","Loader","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.73fa5edd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2dN9c\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3WWVw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3TGQ6\",\"Modal\":\"Modal_Modal__iKypP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3FBGC\",\"Loader\":\"App_Loader__3nB8-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__b3j8l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1N1DW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__25GAw\",\"SearchForm\":\"Searchbar_SearchForm__3VCNW\",\"SearchFormButton\":\"Searchbar_SearchFormButton__GpXsH\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2ybv9\",\"SearchFormInput\":\"Searchbar_SearchFormInput__Ydb--\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BiSearchAlt2 } from 'react-icons/bi';\r\nimport Style from \"./Searchbar.module.css\";\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleChange = e => {\r\n    setQuery(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    const result = query.trim();\r\n    if (result) {\r\n      onSubmit(result);\r\n    }\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={Style.Searchbar}>\r\n      <form className={Style.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={Style.SearchFormButton} >\r\n          <span className={Style.SearchFormButtonLabel}><BiSearchAlt2 size=\"25px\" /></span>\r\n        </button>\r\n\r\n        <input\r\n          className={Style.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Style from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({ item, onClick }) {\r\n  return (\r\n    <li className={Style.ImageGalleryItem} onClick={onClick}>\r\n      <img\r\n        src={item.webformatURL}\r\n        alt={item.tags}\r\n        className={Style.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  item: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Style from './Modal.module.css';\r\nimport ReactModal from \"react-modal\";\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  useEffect(() => {\r\n    const handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ReactModal\r\n      isOpen={onClose}\r\n      onRequestClose={onClose}\r\n      className={Style.Modal}\r\n      overlayClassName={Style.Overlay}\r\n      ariaHideApp={false}\r\n    >\r\n      <div  onClick={handleBackdropClick}>\r\n        <div >{children}</div>\r\n      </div>\r\n    </ReactModal>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\nimport Style from \"./ImageGallery.module.css\";\r\n\r\nexport default function ImageGallery({ items }) {\r\n  const [imageIndex, setImageIndex] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  function handleClick(index) {\r\n    setImageIndex(index);\r\n    setShowModal(true);\r\n  }\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(prev => !prev);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ul className={Style.ImageGallery}>\r\n        {items.map((item, index) => (\r\n          <ImageGalleryItem\r\n            key={index}\r\n            item={item}\r\n            onClick={() => {\r\n              handleClick(index);\r\n            }}\r\n          />\r\n        ))}\r\n      </ul>\r\n      {showModal && (\r\n        <Modal onClose={toggleModal}>\r\n          <img\r\n            src={items[imageIndex].largeImageURL}\r\n            alt={items[imageIndex].tags}\r\n          />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n  \r\nImageGallery.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.object),\r\n};","const API_KEY = '23523272-7e7e55898992c75b8603edf48';\r\nconst IMAGES_PER_PAGE = 12;\r\n\r\nfunction fetchImagesByQuery(query, page = 1) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${IMAGES_PER_PAGE}`,\r\n  ).then(r => {\r\n    if (r.ok) {\r\n      return r.json();\r\n    }\r\n    return Promise.reject(new Error(`Can't get images for ${query}`));\r\n  });\r\n}\r\n\r\nexport { fetchImagesByQuery, IMAGES_PER_PAGE };","import PropTypes from 'prop-types';\r\nimport Style from \"./Button.module.css\";\r\n\r\n\r\nfunction Button(props) {\r\n  return (\r\n    <button type=\"button\" onClick={props.onClick} className={Style.Button}>\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import { useState, useEffect } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport { fetchImagesByQuery, IMAGES_PER_PAGE } from './components/Api/Api';\r\nimport Button from './components/Button/Button';\r\nimport Style from \"./App.module.css\";\r\n\r\nconst Status = {\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n  NEED_LOADING: 'needLoading',\r\n};\r\n\r\nexport default function App() {\r\n  const [query, setQuery] = useState('');\r\n  const [images, setImages] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [isMoreAvailable, setIsMoreAvailable] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (status === Status.NEED_LOADING) {\r\n      setStatus(Status.PENDING);\r\n\r\n      fetchImagesByQuery(query, page)\r\n        .then(results => {\r\n          const resultsCount = results.hits.length;\r\n          if (resultsCount === 0) {\r\n            setError(new Error(`No search results for ${query}`));\r\n            setStatus(Status.REJECTED);\r\n            return;\r\n          }\r\n\r\n          setImages(prev => [...images, ...results.hits]);\r\n          setIsMoreAvailable(checkAvailability(resultsCount));\r\n          setStatus(Status.RESOLVED);\r\n        })\r\n        .then(() => {\r\n          if (page !== 1) {\r\n            window.scrollTo({\r\n              top: document.documentElement.scrollHeight,\r\n              behavior: 'smooth',\r\n            });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          setError(error);\r\n          setStatus(Status.REJECTED);\r\n        });\r\n    }\r\n  }, [images, page, query, status]);\r\n\r\n  const handleSearchSubmit = query => {\r\n    setImages([]);\r\n    setQuery(query);\r\n    setPage(1);\r\n    setStatus(Status.NEED_LOADING);\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    setPage(prev => prev + 1);\r\n    setStatus(Status.NEED_LOADING);\r\n  };\r\n\r\n  const checkAvailability = itemsLength => {\r\n    return !(itemsLength < IMAGES_PER_PAGE);\r\n  };\r\n\r\n  return (\r\n    <div className={Style.App}>\r\n      <Searchbar onSubmit={handleSearchSubmit} />\r\n      {status === Status.REJECTED && <div>{error.message}</div>}\r\n      <ImageGallery items={images} />\r\n      {status === Status.PENDING && (\r\n        <div className={Style.Loader}>\r\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n        </div>\r\n      )}\r\n      {status === Status.RESOLVED && isMoreAvailable && (\r\n        <Button onClick={handleLoadMore}>Load more</Button>\r\n      )}\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App.js';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}